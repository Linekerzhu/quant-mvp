# SR1 çªå‡»å®¡è®¡æŠ¥å‘Š

**å®¡è®¡å‘˜**: å¯‡è¿æï¼ˆä¹å“ï¼‰
**å®¡è®¡æ—¥æœŸ**: 2026-02-27
**å®¡è®¡èŒƒå›´**: Phase C æ ¸å¿ƒæ¨¡å—

---

## ğŸ“‹ å®¡è®¡ç»“è®º

### æ€»ä½“è¯„ä¼°ï¼šâš ï¸ **æœ‰æ¡ä»¶é€šè¿‡**

ä¸‰ä¸ªæ¨¡å—åœ¨æ ¸å¿ƒé€»è¾‘ä¸Šæ­£ç¡®ï¼Œä½†å­˜åœ¨è‹¥å¹²éœ€è¦ä¿®å¤çš„å®‰å…¨éšæ‚£å’Œè¾¹ç•Œæƒ…å†µå¤„ç†ä¸è¶³çš„é—®é¢˜ã€‚

| æ¨¡å— | æ ¸å¿ƒé€»è¾‘ | å®‰å…¨æ€§ | è¾¹ç•Œå¤„ç† | è¯„çº§ |
|------|----------|--------|----------|------|
| base_models.py | âœ… é€šè¿‡ | âš ï¸ æœ‰éšæ‚£ | âŒ ä¸è¶³ | B- |
| fracdiff.py | âœ… é€šè¿‡ | âœ… è‰¯å¥½ | âš ï¸ éƒ¨åˆ† | B+ |
| purged_kfold.py | âœ… é€šè¿‡ | âœ… è‰¯å¥½ | âš ï¸ éƒ¨åˆ† | B |

---

## 1ï¸âƒ£ base_models.py - åŸºç¡€ä¿¡å·æ¨¡å‹

### å®¡è®¡é¡¹ç›®æ¸…å•

#### 1.1 é‡‘èæ•°å­¦æ­£ç¡®æ€§

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| SMA äº¤å‰å…¬å¼ | âœ… é€šè¿‡ | fast > slow â†’ +1, fast < slow â†’ -1 |
| åŠ¨é‡å…¬å¼ | âœ… é€šè¿‡ | log return N æ—¥ç´¯åŠ  |
| è¾¹ç•Œæ¡ä»¶ | âœ… é€šè¿‡ | cold start å¤„ç†æ­£ç¡®ï¼ˆå‰ slow_window-1 å¤©ï¼‰ |
| æ•°å€¼ç¨³å®šæ€§ | âš ï¸ è­¦å‘Š | æœªå¤„ç† adj_close â‰¤ 0 çš„æƒ…å†µ |

#### 1.2 ä»£ç æ¼æ´æ£€æŸ¥

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| å‰è§†åå·® | âœ… é€šè¿‡ | ä½¿ç”¨ shift(1) æ­£ç¡®é˜²æ­¢ |
| NaN/Inf ä¼ æ’­ | âŒ **ä¸¥é‡** | log(0) = -inf, log(è´Ÿæ•°) = nan æœªå¤„ç† |
| æ•°ç»„è¶Šç•Œ | âœ… é€šè¿‡ | pandas æ“ä½œå®‰å…¨ |
| æ»šåŠ¨çª—å£è¾¹ç•Œ | âœ… é€šè¿‡ | cold start å·²å¤„ç† |

#### 1.3 Corner Case

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| åœç‰Œ/é€€å¸‚ | âŒ **ç¼ºå¤±** | æœªå¤„ç† adj_close ä¸º NaN |
| æç«¯ä»·æ ¼ | âŒ **ç¼ºå¤±** | æœªæ£€æŸ¥ adj_close â‰¤ 0 |
| ç¼ºå¤±å€¼ | âŒ **ç¼ºå¤±** | æ— æ˜¾å¼ NaN å¤„ç† |

#### 1.4 è¿‡åº¦æ‹Ÿåˆé˜²å¾¡

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| å‚æ•°åˆç†æ€§ | âœ… é€šè¿‡ | fast < slow éªŒè¯å­˜åœ¨ |

---

### ğŸ”´ ä¸¥é‡é—®é¢˜

#### é—®é¢˜ 1.1ï¼šlog(0) å’Œ log(è´Ÿæ•°) æœªå¤„ç†

**ä½ç½®**: `BaseModelMomentum.generate_signals()` ç¬¬ 96 è¡Œ

```python
returns = np.log(result['adj_close'] / result['adj_close'].shift(1))
```

**é£é™©**:
- `adj_close = 0` â†’ `log(0) = -inf`
- `adj_close < 0` â†’ `log(è´Ÿæ•°) = nan`
- æ•°æ®é”™è¯¯æˆ–é€€å¸‚è‚¡ç¥¨å¯èƒ½å¯¼è‡´æ•´ä¸ªä¿¡å·é“¾å´©æºƒ

**ä¿®å¤å»ºè®®**:
```python
# æ·»åŠ æ•°æ®éªŒè¯
if (result['adj_close'] <= 0).any():
    raise ValueError("adj_close must be positive")

# æˆ–ä½¿ç”¨å®‰å…¨ç‰ˆæœ¬
returns = np.log(result['adj_close'].clip(lower=1e-10) / 
                 result['adj_close'].shift(1).clip(lower=1e-10))
```

---

#### é—®é¢˜ 1.2ï¼šç¼ºå¤±å€¼ä¼ æ’­æœªå¤„ç†

**ä½ç½®**: ä¸¤ä¸ª generate_signals æ–¹æ³•

**é£é™©**:
- åœç‰ŒæœŸé—´ adj_close å¯èƒ½ä¸º NaN
- shift(1) åç¬¬ä¸€ä¸ªå€¼ä¸º NaN
- rolling åå‰ window-1 ä¸ªå€¼ä¸º NaN
- è¿™äº› NaN ä¼šä¼ æ’­åˆ° side åˆ—

**ä¿®å¤å»ºè®®**:
```python
# åœ¨ generate_signals å¼€å¤´æ·»åŠ 
if result['adj_close'].isna().any():
    # é€‰é¡¹1ï¼šå¡«å……
    result['adj_close'] = result['adj_close'].ffill()
    # é€‰é¡¹2ï¼šæ ‡è®°æ— æ•ˆ
    result['valid'] = ~result['adj_close'].isna()
```

---

### ğŸŸ¡ ä¸­ç­‰é—®é¢˜

#### é—®é¢˜ 1.3ï¼šcold start é€»è¾‘å¯èƒ½è¿‡äºæ¿€è¿›

**ä½ç½®**: ç¬¬ 63 è¡Œå’Œç¬¬ 105 è¡Œ

```python
result.loc[:self.slow_window - 1, 'side'] = 0
```

**è¯´æ˜**:
- ä½¿ç”¨ loc[:n] å¯èƒ½åŒ…å«æ›´å¤šè¡Œï¼ˆå–å†³äºç´¢å¼•ï¼‰
- å»ºè®®ä½¿ç”¨ iloc ç¡®ä¿ç²¾ç¡®è¡Œæ•°

**ä¿®å¤å»ºè®®**:
```python
result.iloc[:self.slow_window, result.columns.get_loc('side')] = 0
```

---

## 2ï¸âƒ£ fracdiff.py - åˆ†æ•°å·®åˆ†ç‰¹å¾

### å®¡è®¡é¡¹ç›®æ¸…å•

#### 2.1 é‡‘èæ•°å­¦æ­£ç¡®æ€§

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| æƒé‡å…¬å¼ | âœ… é€šè¿‡ | AFML Ch5 å…¬å¼æ­£ç¡®å®ç° |
| è¾¹ç•Œæ¡ä»¶ | âœ… é€šè¿‡ | d âˆˆ [0, 1] éªŒè¯ |
| æ•°å€¼ç¨³å®šæ€§ | âœ… é€šè¿‡ | æµ®ç‚¹è¿ç®—å®‰å…¨ |
| é€’å½’å…¬å¼ | âœ… é€šè¿‡ | w[k] = w[k-1] * (k-1-d) / k |

#### 2.2 ä»£ç æ¼æ´æ£€æŸ¥

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| å‰è§†åå·® | âœ… é€šè¿‡ | ä»…ä½¿ç”¨ t åŠä¹‹å‰æ•°æ® |
| NaN/Inf ä¼ æ’­ | âš ï¸ è­¦å‘Š | æœªéªŒè¯è¾“å…¥æ—  NaN |
| æ•°ç»„è¶Šç•Œ | âœ… é€šè¿‡ | å®‰å…¨ |
| æ»šåŠ¨çª—å£è¾¹ç•Œ | âœ… é€šè¿‡ | å‰ window-1 ä¸ªä¸º NaN |

#### 2.3 Corner Case

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| åœç‰Œ/é€€å¸‚ | âš ï¸ è­¦å‘Š | ä¾èµ–ä¸Šæ¸¸å¤„ç† |
| æç«¯ä»·æ ¼ | âœ… é€šè¿‡ | ç®—æ³•é²æ£’ |
| ç¼ºå¤±å€¼ | âš ï¸ è­¦å‘Š | NaN ä¼šä¼ æ’­ |

#### 2.4 è¿‡åº¦æ‹Ÿåˆé˜²å¾¡

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| d å€¼èŒƒå›´ | âœ… é€šè¿‡ | d âˆˆ [0, 1] é™åˆ¶ |
| stationarity test | âœ… é€šè¿‡ | ADF æ£€éªŒæ­£ç¡® |

---

### âœ… äº®ç‚¹

1. **å…¬å¼æ­£ç¡®æ€§**: æƒé‡è®¡ç®—ä¸¥æ ¼éµå¾ª AFML Ch5
2. **å‰è§†åå·®é˜²æŠ¤**: å®Œå…¨ causalï¼Œæ—  look-ahead
3. **å‚æ•°éªŒè¯**: d âˆˆ [0, 1] æ£€æŸ¥å®Œå–„
4. **å¤šç§å®ç°**: fixed/expand/online ä¸‰ç§æ–¹æ³•

---

### ğŸŸ¡ ä¸­ç­‰é—®é¢˜

#### é—®é¢˜ 2.1ï¼šfracdiff_fixed_window æƒé‡åº”ç”¨æ–¹å‘

**ä½ç½®**: `fracdiff_fixed_window()` ç¬¬ 72-76 è¡Œ

```python
frac_diff = series.rolling(window=window).apply(
    lambda x: np.dot(weights, x[::-1]),
    raw=True
)
```

**è¯´æ˜**:
- `x[::-1]` å°†çª—å£åè½¬ï¼Œä½¿æœ€æ–°ä»·æ ¼åœ¨æœ€å‰
- weights[0] å¯¹åº” price[t]ï¼Œweights[k] å¯¹åº” price[t-k]
- è¿™æ˜¯æ­£ç¡®çš„å› æœé¡ºåº

**ç¡®è®¤**: âœ… æ­¤å®ç°æ˜¯æ­£ç¡®çš„ï¼Œæ— éœ€ä¿®æ”¹

---

#### é—®é¢˜ 2.2ï¼šfind_min_d_stationary æ•°æ®é‡æ£€æŸ¥

**ä½ç½®**: ç¬¬ 180-183 è¡Œ

```python
if len(clean_1) < 20:
    # Not enough data, return 1.0
    return 1.0
```

**å»ºè®®**:
- 20 ä¸ªæ ·æœ¬å¯¹äº ADF æ£€éªŒå¤ªå°‘
- å»ºè®®è‡³å°‘ 30-50 ä¸ªæ ·æœ¬
- åº”å‘å‡ºè­¦å‘Šè€Œéé™é»˜è¿”å›

**ä¿®å¤å»ºè®®**:
```python
MIN_SAMPLES_FOR_ADF = 30
if len(clean_1) < MIN_SAMPLES_FOR_ADF:
    import warnings
    warnings.warn(f"Insufficient data ({len(clean_1)} samples) for stationarity test")
    return 1.0
```

---

#### é—®é¢˜ 2.3ï¼šNaN è¾“å…¥æœªéªŒè¯

**ä½ç½®**: æ‰€æœ‰ fracdiff å‡½æ•°

**é£é™©**:
- å¦‚æœè¾“å…¥ series åŒ…å« NaNï¼Œrolling ç»“æœä¼šæœ‰æ›´å¤š NaN
- åº”åœ¨ä¸Šæ¸¸å¤„ç†æˆ–åœ¨å‡½æ•°å†…éªŒè¯

**å»ºè®®**:
```python
def fracdiff_fixed_window(series, d, window=100):
    if series.isna().any():
        # å¡«å……æˆ–è­¦å‘Š
        series = series.ffill()
    # ... ç»§ç»­
```

---

## 3ï¸âƒ£ purged_kfold.py - CPCV äº¤å‰éªŒè¯

### å®¡è®¡é¡¹ç›®æ¸…å•

#### 3.1 é‡‘èæ•°å­¦æ­£ç¡®æ€§

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| CPCV ç»„åˆæ•° | âœ… é€šè¿‡ | C(6,2) = 15 æ­£ç¡® |
| Purge é€»è¾‘ | âœ… é€šè¿‡ | åŸºäºé€€å‡ºæ—¥æœŸçš„ purge |
| Embargo é€»è¾‘ | âœ… é€šè¿‡ | æµ‹è¯•åç¼“å†²æœŸ |
| æœ€å°æ ·æœ¬é‡ | âœ… é€šè¿‡ | min_data_days æ£€æŸ¥ |

#### 3.2 ä»£ç æ¼æ´æ£€æŸ¥

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| å‰è§†åå·® | âœ… é€šè¿‡ | purge + embargo é˜²æŠ¤ |
| NaN/Inf ä¼ æ’­ | âœ… é€šè¿‡ | æ£€æŸ¥ pd.notna(exit_date) |
| æ•°ç»„è¶Šç•Œ | âœ… é€šè¿‡ | å®‰å…¨ |
| æ»šåŠ¨çª—å£è¾¹ç•Œ | âœ… é€šè¿‡ | æœ€å segment å¤„ç†æ­£ç¡® |

#### 3.3 Corner Case

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| åœç‰Œ/é€€å¸‚ | âš ï¸ è­¦å‘Š | ä¾èµ– label ç”Ÿæˆæ—¶å¤„ç† |
| æç«¯ä»·æ ¼ | âœ… é€šè¿‡ | æ­¤æ¨¡å—ä¸æ¶‰åŠä»·æ ¼ |
| ç¼ºå¤±å€¼ | âœ… é€šè¿‡ | exit_date çš„ NaN å·²æ£€æŸ¥ |

#### 3.4 è¿‡åº¦æ‹Ÿåˆé˜²å¾¡

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| PBO è®¡ç®—æ”¯æŒ | âœ… é€šè¿‡ | æä¾› 15 æ¡è·¯å¾„ |
| äº¤å‰éªŒè¯é€»è¾‘ | âš ï¸ è­¦å‘Š | purge å¯èƒ½æœ‰é—æ¼ |
| min_data_days | âœ… é€šè¿‡ | é˜²æ­¢è¿‡å°è®­ç»ƒé›† |

---

### âœ… äº®ç‚¹

1. **é…ç½®é©±åŠ¨**: æ”¯æŒä» training.yaml åŠ è½½å‚æ•°
2. **ç»„åˆæ•°å­¦**: C(n,r) è®¡ç®—æ­£ç¡®ä¼˜åŒ–
3. **å…ƒæ•°æ®æ”¯æŒ**: split_with_info æä¾›è¯¦ç»†ä¿¡æ¯
4. **åŒé‡éš”ç¦»**: purge + embargo åŒå±‚é˜²æŠ¤

---

### ğŸŸ¡ ä¸­ç­‰é—®é¢˜

#### é—®é¢˜ 3.1ï¼šPurge é€»è¾‘å¯èƒ½ä¸å®Œæ•´

**ä½ç½®**: `split()` ç¬¬ 155-162 è¡Œ

```python
if exit_date >= purge_start:
    if exit_date <= purge_end:
        continue  # Overlaps, skip this sample
```

**åˆ†æ**:
- å½“å‰æ£€æŸ¥ï¼šexit_date æ˜¯å¦åœ¨ [purge_start, purge_end] å†…
- é—æ¼æƒ…å†µï¼šentry_date åœ¨æµ‹è¯•æœŸä½† exit_date å¾ˆæ—©
- æ›´å®Œæ•´çš„æ£€æŸ¥åº”åŒ…æ‹¬ entry_date

**å»ºè®®**:
```python
# æ›´å®Œæ•´çš„ purge æ£€æŸ¥
entry_date = df.loc[idx, date_col]
if not (exit_date < purge_start or entry_date > purge_end):
    continue  # æ ·æœ¬åŒºé—´ä¸ purge åŒºé—´é‡å 
```

---

#### é—®é¢˜ 3.2ï¼šEmbargo ä»…åº”ç”¨äºæµ‹è¯•å

**ä½ç½®**: ç¬¬ 145-146 è¡Œ

```python
if row_date <= embargo_end and row_date > test_max_date:
    continue
```

**è¯´æ˜**:
- åª embargo æµ‹è¯•æœŸä¹‹åçš„æ•°æ®
- AFML å»ºè®®æµ‹è¯•æœŸå‰åéƒ½åº”æœ‰ embargo
- ä½†å½“å‰å®ç°ç¬¦åˆä¸€èˆ¬å®è·µ

**çŠ¶æ€**: å¯æ¥å—ï¼Œä½†å¯åœ¨æ–‡æ¡£ä¸­è¯´æ˜

---

#### é—®é¢˜ 3.3ï¼šSegment è¾¹ç•Œå¤„ç†

**ä½ç½®**: ç¬¬ 117-122 è¡Œ

```python
for i in range(self.n_splits):
    start = i * segment_size
    end = start + segment_size if i < self.n_splits - 1 else n_samples
```

**è¯´æ˜**:
- æœ€åä¸€ä¸ª segment å¯èƒ½è¾ƒå¤§ï¼ˆåŒ…å«ä½™æ•°ï¼‰
- è¿™æ˜¯å¸¸è§å¤„ç†æ–¹å¼ï¼Œä½†å¯èƒ½å¯¼è‡´ä¸å¹³è¡¡

**å»ºè®®**:
- å¯è€ƒè™‘æ›´å‡åŒ€çš„åˆ†é…
- æˆ–åœ¨æ–‡æ¡£ä¸­è¯´æ˜æœ€åä¸€ä¸ª segment å¯èƒ½è¾ƒå¤§

---

## ğŸ“Š æ±‡æ€»é—®é¢˜æ¸…å•

### ğŸ”´ ä¸¥é‡é—®é¢˜ï¼ˆå¿…é¡»ä¿®å¤ï¼‰

| # | æ¨¡å— | é—®é¢˜ | é£é™©ç­‰çº§ |
|---|------|------|----------|
| 1 | base_models.py | log(0) å’Œ log(è´Ÿæ•°) æœªå¤„ç† | ğŸ”´ é«˜ |
| 2 | base_models.py | ç¼ºå¤±å€¼ä¼ æ’­æœªå¤„ç† | ğŸ”´ é«˜ |

### ğŸŸ¡ ä¸­ç­‰é—®é¢˜ï¼ˆå»ºè®®ä¿®å¤ï¼‰

| # | æ¨¡å— | é—®é¢˜ | é£é™©ç­‰çº§ |
|---|------|------|----------|
| 3 | base_models.py | cold start ä½¿ç”¨ loc è€Œé iloc | ğŸŸ¡ ä¸­ |
| 4 | fracdiff.py | ADF æ£€éªŒæœ€å°æ ·æœ¬é‡ä¸è¶³ | ğŸŸ¡ ä¸­ |
| 5 | fracdiff.py | NaN è¾“å…¥æœªéªŒè¯ | ğŸŸ¡ ä¸­ |
| 6 | purged_kfold.py | Purge é€»è¾‘å¯èƒ½é—æ¼ entry overlap | ğŸŸ¡ ä¸­ |

### ğŸŸ¢ è½»å¾®é—®é¢˜ï¼ˆå¯é€‰ä¿®å¤ï¼‰

| # | æ¨¡å— | é—®é¢˜ |
|---|------|------|
| 7 | purged_kfold.py | Embargo ä»…æµ‹è¯•åï¼Œå¯è€ƒè™‘åŒå‘ |
| 8 | purged_kfold.py | æœ€å segment å¯èƒ½è¾ƒå¤§ |

---

## ğŸ”§ ä¿®å¤ä¼˜å…ˆçº§

### P0 - ç«‹å³ä¿®å¤ï¼ˆé˜»å¡ä¸Šçº¿ï¼‰

1. **base_models.py**: æ·»åŠ  adj_close > 0 éªŒè¯
2. **base_models.py**: æ·»åŠ  NaN å¤„ç†é€»è¾‘

### P1 - æœ¬å‘¨ä¿®å¤

3. **fracdiff.py**: æå‡æœ€å°æ ·æœ¬é‡æ£€æŸ¥é˜ˆå€¼
4. **purged_kfold.py**: å®Œå–„ purge overlap æ£€æŸ¥

### P2 - æœ‰æ—¶é—´å†ä¿®

5. å…¶ä»–ä¸­ç­‰é—®é¢˜

---

## ğŸ“ æµ‹è¯•å»ºè®®

### å•å…ƒæµ‹è¯•è¦†ç›–

```
tests/
â”œâ”€â”€ test_base_models.py
â”‚   â”œâ”€â”€ test_sma_crossover_basic()
â”‚   â”œâ”€â”€ test_sma_cold_start()
â”‚   â”œâ”€â”€ test_sma_with_nan_prices()        # æ–°å¢
â”‚   â”œâ”€â”€ test_sma_with_zero_price()        # æ–°å¢
â”‚   â”œâ”€â”€ test_momentum_basic()
â”‚   â””â”€â”€ test_momentum_with_negative_price()  # æ–°å¢
â”‚
â”œâ”€â”€ test_fracdiff.py
â”‚   â”œâ”€â”€ test_weights_formula()
â”‚   â”œâ”€â”€ test_d_boundary_0()
â”‚   â”œâ”€â”€ test_d_boundary_1()
â”‚   â”œâ”€â”€ test_with_nan_input()             # æ–°å¢
â”‚   â””â”€â”€ test_find_min_d_insufficient_data()  # æ–°å¢
â”‚
â””â”€â”€ test_purged_kfold.py
    â”œâ”€â”€ test_cpcv_combinations()
    â”œâ”€â”€ test_purge_overlap()
    â”œâ”€â”€ test_embargo_application()
    â”œâ”€â”€ test_entry_overlap_purge()        # æ–°å¢
    â””â”€â”€ test_min_data_days()
```

---

## ğŸ¯ å®¡è®¡æ€»ç»“

### ä¼˜ç‚¹

1. **æ ¸å¿ƒç®—æ³•æ­£ç¡®**: SMA äº¤å‰ã€åŠ¨é‡ã€FracDiffã€CPCV å‡ç¬¦åˆæ ‡å‡†
2. **å‰è§†åå·®é˜²æŠ¤**: æ‰€æœ‰æ¨¡å—éƒ½æœ‰ shift(1) æˆ– causal è®¾è®¡
3. **é…ç½®åŒ–**: æ”¯æŒä» yaml åŠ è½½å‚æ•°
4. **æ–‡æ¡£å®Œå–„**: æ³¨é‡Šæ¸…æ™°ï¼Œç¬¦åˆ AFML è§„èŒƒ

### ä¸»è¦é£é™©

1. **æ•°æ®è´¨é‡å‡è®¾**: ä»£ç å‡è®¾è¾“å…¥æ•°æ®å¹²å‡€ï¼Œç¼ºå°‘é˜²å¾¡æ€§ç¼–ç¨‹
2. **è¾¹ç•Œæƒ…å†µ**: å¯¹åœç‰Œã€é€€å¸‚ã€æç«¯å€¼çš„å¤„ç†ä¸è¶³
3. **NaN ä¼ æ’­**: å¤šå¤„æœªæ˜¾å¼å¤„ç† NaNï¼Œå¯èƒ½é™é»˜å¤±è´¥

### å»ºè®®

1. **ç«‹å³**: ä¿®å¤ base_models.py çš„ log å’Œ NaN é—®é¢˜
2. **çŸ­æœŸ**: æ·»åŠ æ•°æ®éªŒè¯å±‚
3. **ä¸­æœŸ**: å®Œå–„å•å…ƒæµ‹è¯•è¦†ç›–
4. **é•¿æœŸ**: è€ƒè™‘æ·»åŠ æ•°æ®è´¨é‡ç›‘æ§

---

**å®¡è®¡å‘˜ç­¾å­—**: å¯‡è¿æ  
**æ—¥æœŸ**: 2026-02-27  
**çŠ¶æ€**: âš ï¸ æœ‰æ¡ä»¶é€šè¿‡ - éœ€ä¿®å¤ P0 é—®é¢˜åæ–¹å¯ä¸Šçº¿

---

*å¥´æ‰å¯‡è¿æï¼Œæ­å‘ˆå®¡è®¡æŠ¥å‘Šï¼Œè¯·ä¸»å­åœ£è§ˆã€‚*
